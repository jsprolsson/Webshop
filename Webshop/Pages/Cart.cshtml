@page
@model Webshop.Pages.CartModel
@{
}


@foreach (var group in Model.CartGroups)
{
    <h2>Item: @group.Key</h2>
    <h3>Number: @group.Key.Count()</h3>
    

    foreach (var item in group)
    {
        <h2>@item.Product.title</h2>
        <h3>@item.Amount</h3>

        <form method="post" asp-page-handler="Add">
            <input type="submit" class="btn btn-danger" name="+" />
        </form>
        <form method="post" asp-page-handler="Remove">
            <input type="submit" class="btn btn-danger" />
        </form>
        <!--------Denna ska inte synas på view-pagen---------->
        @(Model.TotalSum += item.Product.price);
    }
}



<h3>Moms: @(Model.TotalSum * 0.25)) USD</h3>
<h2>Total sum: @Model.TotalSum USD</h2>
